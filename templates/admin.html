<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <title>管理員 - 所有請假紀錄</title>
    <style>
        body { font-family: "Microsoft JhengHei", sans-serif; background:#f6f7fb; color:#333; text-align:center; padding:30px 10px; }
        .wrap { max-width: 1100px; margin: 0 auto; }
        h2 { margin-bottom: 10px; color:#4a4a4a; }
        .controls { display:flex; justify-content: space-between; align-items:center; gap:10px; margin-bottom:18px; }
        .btn {
            background:#9bb7d4; color:#fff; padding:10px 16px; border-radius:8px; text-decoration:none; display:inline-block;
        }
        .btn:hover { background:#7ea2c9; }

        table {
            width:100%;
            border-collapse: collapse;
            background:#fff;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border-radius:10px;
            overflow:hidden;
        }
        thead th {
            background:#e7ecf4;
            padding:12px 8px;
            text-align:center;
            font-weight:600;
        }
        tbody td {
            padding:12px 8px;
            border-bottom:1px solid #f0f0f2;
            text-align:center;
            vertical-align:middle;
        }
        tbody tr:hover { background:#fbfdff; }

        /* 假別淺色區分 (class 用假別中文) */
        .事假 { background:#edf7ee; }
        .病假 { background:#fff0f0; }
        .公假 { background:#eef6ff; }
        .生理假 { background:#fff4f8; }
        .特休 { background:#fff9ec; }
        .喪假 { background:#f0f0f2; }
        .婚假 { background:#fff0f6; }
        .產假 { background:#f6fff5; }
        .陪產假 { background:#f3f7ff; }
        .其他 { background:#fbf6e6; }

        .small { font-size:13px; color:#666; }
        .right { text-align:right; }

        @media (max-width:800px){
            tbody td, thead th { padding:10px 6px; font-size:13px; }
            .controls { flex-direction:column; align-items:flex-start; gap:8px; }
        }
    </style>
</head>
<body>
    <div class="wrap">
        <div class="controls">
            <div>
                <h2>管理員：所有請假紀錄</h2>
                <div class="small">顯示所有使用者提交的請假資料（依開始日期排序）</div>
            </div>
            <div class="right">
                <a href="/admin_logout" class="btn">登出管理員</a>
            </div>
        </div>

        <table>
            <thead>
                <tr>
                    <th>姓名</th>
                    <th>開始日期</th>
                    <th>結束日期</th>
                    <th>假別</th>
                    <th>原因</th>
                    <th>提交時間</th>
                </tr>
            </thead>
            <tbody>
                {% for r in records %}
                <tr class="{{ r.leave_type }}">
                    <td>{{ r.user_name }}</td>
                    <td>{{ r.start_date }}</td>
                    <td>{{ r.end_date }}</td>
                    <td>{{ r.leave_type }}</td>
                    <td style="max-width:300px; word-break:break-word; text-align:left; padding-left:12px;">{{ r.reason }}</td>
                    <td class="small">{{ r.timestamp }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <div style="text-align:center; margin-top:18px;">
            <a href="/" class="btn">回首頁</a>
        </div>
    </div>
</body>
</html>
